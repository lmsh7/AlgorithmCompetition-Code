## D. Strange Definition

> **题意**:定义$x$和$y$**相邻**的条件为$\dfrac{lcm(x,y)}{gcd(x,y)}$为完全平方数. 对于给定的长度为$n$的初始数列$a$,在每一秒过后,每个数都乘上与之**相邻**的数,问任意秒时,数列中某一元素**相邻**数最多为几.

### Solution

首先$\dfrac{lcm(x,y)}{gcd(x,y)} = \dfrac{xy}{gcd^2(x,y)}$

所以两个数**相邻**的条件即为$xy$为完全平方数

~~如果$xy$为完全平方数,$yz$为完全平方数,那么$xz$一定也是完全平方数,因为$\dfrac{xy^2z}{y^2}=xz$~~

~~如果$xy$不是完全平方数,$yz$为完全平方数,同理$xz$也不是完全平方数~~

~~这里面有一个类似并查集的关系~~

~~然后我就开始瞎做了~~

> 定义 $x$ 的**核**$ \textrm{core}(x)$为$ x$ 去掉其完全平方数后剩余的部分，例如 $\textrm{core}(12)=\dfrac{12}{4}=3$ ,$\ \textrm{core}(16)=\dfrac{16}{16}=1$
>
> 由定义可知，$xy$为完全平方数，当且仅当$ \textrm{core}(x)=\textrm{core}(y)$
>
> 这样就可以通过统计$ \textrm{core}(x)$的个数来求出第$0$时的答案，即按照 $\textrm{core}$ 值分组，元素最多的组的元素个数。
>
> 对于**替换**操作，由于是将所有等于 $\textrm{core}(x)$ 的数乘起来，若这样的数有偶数个，显然我们可以得到一个完全平方数，乘积的 $\textrm{core}$ 值为 $1$；若这样的数有奇数个，则乘积的 $\textrm{core} $值仍为 $\textrm{core}(x)$。
>
> 所以经过一秒后，$\textrm{core}(x)$要么变为 $1$，要么不变。而 $\textrm{core}(x)$一旦变为$1$后，后续的替换操作也不会改变其值，所以对于任意正数秒之后的答案和第$1$秒的答案是一样的。将$ \textrm{core}$值更新一遍后重新统计即可。

### Code

```cpp

```



